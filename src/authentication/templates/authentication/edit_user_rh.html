{% extends 'authentication/base.html' %}
{% load static %}
{% block content %}

<div class="container mt-4">
  <h3>Modifier les informations RH de {{ user_cible.get_full_name }}</h3>

  <form method="POST" enctype="multipart/form-data" class="mt-4">
    {% csrf_token %}
    
    

    <!-- Formulaire de base -->
    <div class="card shadow-sm mb-4">
      <div class="card-header bg-light">
        <h5 class="mb-0">Informations de base</h5>
      </div>
      <div class="card-body">
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="{{ form.role.id_for_label }}">R√¥le</label>
            {{ form.role }}
          </div>
          <div class="col-md-6">
            <label for="{{ form.statut.id_for_label }}">Statut</label>
            {{ form.statut }}
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="{{ form.poste_occupe.id_for_label }}">Poste occup√©</label>
            {{ form.poste_occupe }}
          </div>
          <div class="col-md-6">
            <label for="{{ form.department.id_for_label }}">D√©partement</label>
            {{ form.department }}
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-4">
            <label for="{{ form.contract_type.id_for_label }}">Type de contrat</label>
            {{ form.contract_type }}
          </div>
          <div class="col-md-4">
            <label for="{{ form.start_date.id_for_label }}">Date d'embauche</label>
            {{ form.start_date }}
          </div>
          <div class="col-md-4">
            <label for="{{ form.end_date.id_for_label }}">Date de fin</label>
            {{ form.end_date }}
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="{{ form.telephone_pro.id_for_label }}">T√©l√©phone professionnel</label>
            {{ form.telephone_pro }}
          </div>
        </div>
      </div>
    </div>

    <!-- Formulaire avanc√© (optionnel) -->
    <div class="card shadow-sm mb-4">
      <div class="card-header bg-light">
        <h5 class="mb-0">Informations avanc√©es (optionnel)</h5>
      </div>
      <div class="card-body">
        <div class="row mb-3">
          <div class="col-md-6">
            <label for="{{ form.salaire_brut.id_for_label }}">Salaire brut mensuel</label>
            {{ form.salaire_brut }}
          </div>
          <div class="col-md-6">
            <label for="{{ form.niveau_etude.id_for_label }}">Niveau d'√©tude</label>
            {{ form.niveau_etude }}
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="{{ form.domaine_etude.id_for_label }}">Domaine d'√©tude</label>
            {{ form.domaine_etude }}
          </div>
          <div class="col-md-6">
            <label for="{{ form.annees_experience.id_for_label }}">Ann√©es d'exp√©rience</label>
            {{ form.annees_experience }}
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12">
            <label for="{{ form.competences.id_for_label }}">Comp√©tences techniques</label>
            {{ form.competences }}
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-12">
            <label for="{{ form.competences_soft.id_for_label }}">Comp√©tences comportementales</label>
            {{ form.competences_soft }}
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-4">
            <label for="{{ form.photo.id_for_label }}">Photo</label>
            {{ form.photo }}
          </div>
          <div class="col-md-4">
            <label for="{{ form.cv.id_for_label }}">CV</label>
            {{ form.cv }}
          </div>
          <div class="col-md-4">
            <label for="{{ form.contract_file.id_for_label }}">Contrat</label>
            {{ form.contract_file }}
          </div>
        </div>
      </div>
    </div>

    <div class="mt-3 text-end">
      <button type="submit" class="btn btn-primary">üíæ Enregistrer</button>
      <a href="{% url 'employees-view' %}" class="btn btn-secondary">Retour √† la liste</a>
    </div>
  </form>
</div>

<style>
  .form-control, .form-select {
    border-radius: 6px;
    border: 1px solid #ddd;
    padding: 10px;
  }
  
  .form-control:focus, .form-select:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
  }
  
  label {
    font-weight: 500;
    margin-bottom: 5px;
    color: #333;
  }
  
  .card {
    border: 1px solid #e0e0e0;
    border-radius: 10px;
  }
  
  .card-header {
    border-bottom: 1px solid #e0e0e0;
    border-radius: 10px 10px 0 0 !important;
  }
</style>

{% endblock %}